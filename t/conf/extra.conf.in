<IfModule !apreq_module.c>
	LoadModule apreq_module /usr/lib/apache2/modules/mod_apreq2.so
</IfModule>
<IfModule !mod_deflate.c>
	LoadModule deflate_module /usr/lib/apache2/modules/mod_deflate.so
</IfModule>
AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/x-javascript

PerlModule Apache2::Request Apache2::Cookie Apache2::Upload Apache2::SubRequest

PerlPostConfigRequire @ServerRoot@/../blib/conf/startup.pl
PerlSetEnv APACHE_SWIT_DB_NAME swit_test_db
<Location /test>
	PerlAccessHandler T::Session->access_handler
	PerlSetVar SWITRootLocation /test
</Location>

<Location /test/basic_handler>
  SetHandler perl-script
  PerlResponseHandler T::Basic
</Location>

<Location /test/swit/r>
  SetHandler perl-script
  PerlHandler T::SWIT->swit_render_handler
</Location>

<Location /test/swit/u>
  SetHandler perl-script
  PerlHandler T::SWIT->swit_update_handler
</Location>

<Location /test/another/page/r>
  SetHandler perl-script
  PerlHandler T::SWIT->swit_render_handler
</Location>

<Location /test/another/page/u>
  SetHandler perl-script
  PerlHandler T::SWIT->swit_update_handler
</Location>

<Location /test/ht_error/r>
  SetHandler perl-script
  PerlSetVar SWITIncludePath @ServerRoot@
  PerlSetVar SWITTemplate templates/ht_error.tt
  PerlHandler T::HTError->swit_render_handler
</Location>

<Location /test/ht_error/u>
  SetHandler perl-script
  PerlHandler T::HTError->swit_update_handler
</Location>


<Location /test/ht_page/r>
  SetHandler perl-script
  PerlSetVar SWITIncludePath @ServerRoot@
  PerlSetVar SWITTemplate templates/htpage.tt
  PerlHandler T::HTPage->swit_render_handler
</Location>

<Location /test/ht_page/u>
  SetHandler perl-script
  PerlHandler T::HTPage->swit_update_handler
</Location>

<Location /test/res/r>
  SetHandler perl-script
  PerlHandler T::Res->swit_render_handler
</Location>

<Location /test/sess_page/r>
  SetHandler perl-script
  PerlSetVar SWITIncludePath @ServerRoot@
  PerlSetVar SWITTemplate templates/sess_page.tt
  PerlHandler T::SessPage->swit_render_handler
</Location>

<Location /test/sess_page/u>
  SetHandler perl-script
  PerlHandler T::SessPage->swit_update_handler
</Location>

<Location /test/db_page/r>
  SetHandler perl-script
  PerlSetVar SWITIncludePath @ServerRoot@
  PerlSetVar SWITTemplate templates/db_page.tt
  PerlHandler T::DBPage->swit_render_handler
</Location>

<Location /test/db_page/u>
  SetHandler perl-script
  PerlHandler T::DBPage->swit_update_handler
</Location>

<Location /test/cthan>
  SetHandler perl-script
  PerlHandler T::SWIT->ct_handler
</Location>

<Location /test/upload/r>
  SetHandler perl-script
  PerlSetVar SWITIncludePath @ServerRoot@
  PerlSetVar SWITTemplate templates/upload.tt
  PerlHandler T::Upload->swit_render_handler
</Location>

<Location /test/upload/u>
  SetHandler perl-script
  PerlHandler T::Upload->swit_update_handler
</Location>

<Location /test/empty/r>
  SetHandler perl-script
  PerlSetVar SWITIncludePath @ServerRoot@
  PerlSetVar SWITTemplate templates/empty_up.tt
  PerlHandler T::Empty->swit_render_handler
</Location>

<Location /test/empty/u>
  SetHandler perl-script
  PerlHandler T::Empty->swit_update_handler
</Location>

<Location /test/redirect/r>
  SetHandler perl-script
  PerlHandler T::Redirect->swit_render_handler
</Location>

<Location /test/work/r>
  SetHandler perl-script
  PerlHandler T::WorkPage->swit_render_handler
</Location>

<Location /test/download/r>
  SetHandler perl-script
  PerlHandler Apache::SWIT::LargeObjectHandler->swit_render_handler
</Location>


Alias /test/www @ServerRoot@/public_html 
PerlPostConfigRequire @ServerRoot@/conf/do_swit_startups.pl
